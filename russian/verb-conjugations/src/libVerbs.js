PRONOUNS =
{
    "я": "first singular",
    "ты": "second singular",
    "он": "third singular",
    "она": "third singular",
    "мы": "first plural",
    "вы": "second plural",
    "они": "third plural",
}

// TODO: Currently only present tense verbs
VERBS =
[
    {
        "infinitive": "говорить",
        "present":
        {
            "first singular": "говорю",
            "second singular": "говоришь",
            "third singular": "говорит",
            "first plural": "говорим",
            "second plural": "говорите",
            "third plural": "говорят"
        }
    },
    {
        "infinitive": "готовить",
        "present":
        {
            "first singular": "готовлю",
            "second singular": "готовишь",
            "third singular": "готовит",
            "first plural": "готовим",
            "second plural": "готовите",
            "third plural": "готовят"
        }
    },
    {
        "infinitive": "гулять",
        "present":
        {
            "first singular": "гуляю",
            "second singular": "гуляешь",
            "third singular": "гуляет",
            "first plural": "гуляем",
            "second plural": "гуляете",
            "third plural": "гуляют"
        }
    },
    {
        "infinitive": "думать",
        "present":
        {
            "first singular": "думаю",
            "second singular": "думаешь",
            "third singular": "думает",
            "first plural": "думаем",
            "second plural": "думаете",
            "third plural": "думают"
        }
    },
    {
        "infinitive": "жить",
        "present":
        {
            "first singular": "живу",
            "second singular": "живёшь",
            "third singular": "живёт",
            "first plural": "живём",
            "second plural": "живёте",
            "third plural": "живут"
        }
    },
    {
        "infinitive": "играть",
        "present":
        {
            "first singular": "играю",
            "second singular": "играешь",
            "third singular": "играет",
            "first plural": "играем",
            "second plural": "играете",
            "third plural": "играют"
        }
    },
    {
        "infinitive": "изучать",
        "present":
        {
            "first singular": "изучаю",
            "second singular": "изучаешь",
            "third singular": "изучает",
            "first plural": "изучаем",
            "second plural": "изучаете",
            "third plural": "изучают"
        }
    },
    {
        "infinitive": "петь",
        "present":
        {
            "first singular": "пою",
            "second singular": "поёшь",
            "third singular": "поёт",
            "first plural": "поём",
            "second plural": "поёте",
            "third plural": "поют"
        }
    },
    {
        "infinitive": "писать",
        "present":
        {
            "first singular": "пишу",
            "second singular": "пишешь",
            "third singular": "пишет",
            "first plural": "пишем",
            "second plural": "пишете",
            "third plural": "пишут"
        }
    },
    {
        "infinitive": "слушать",
        "present":
        {
            "first singular": "слушаю",
            "second singular": "слушаешь",
            "third singular": "слушает",
            "first plural": "слушаем",
            "second plural": "слушаете",
            "third plural": "слушают"
        }
    },
    {
        "infinitive": "спать",
        "present":
        {
            "first singular": "сплю",
            "second singular": "спишь",
            "third singular": "спит",
            "first plural": "спим",
            "second plural": "спите",
            "third plural": "спят"
        }
    },
    {
        "infinitive": "танцевать",
        "present":
        {
            "first singular": "танцую",
            "second singular": "танцуешь",
            "third singular": "танцует",
            "first plural": "танцуем",
            "second plural": "танцуете",
            "third plural": "танцуют"
        }
    },
    {
        "infinitive": "уметь",
        "present":
        {
            "first singular": "умею",
            "second singular": "умеешь",
            "third singular": "умеет",
            "first plural": "умеем",
            "second plural": "умеете",
            "third plural": "умеют"
        }
    },
    {
        "infinitive": "ходить",
        "present":
        {
            "first singular": "хожу",
            "second singular": "ходишь",
            "third singular": "ходит",
            "first plural": "ходим",
            "second plural": "ходите",
            "third plural": "ходят"
        }
    },
    {
        "infinitive": "читать",
        "present":
        {
            "first singular": "читаю",
            "second singular": "читаешь",
            "third singular": "читает",
            "first plural": "читаем",
            "second plural": "читаете",
            "third plural": "читают"
        }
    },

    // These could be separated into an intermediate/advanced mode?
    {
        "infinitive": "есть",
        "present":
        {
            "first singular": "ем",
            "second singular": "ешь",
            "third singular": "ест",
            "first plural": "едим",
            "second plural": "едите",
            "third plural": "едят"
        }
    },
    {
        "infinitive": "идти",
        "present":
        {
            "first singular": "иду",
            "second singular": "идёшь",
            "third singular": "идёт",
            "first plural": "идём",
            "second plural": "идёте",
            "third plural": "идут"
        }
    },
    {
        "infinitive": "отдыхать",
        "present":
        {
            "first singular": "отдыхаю",
            "second singular": "отдыхаешь",
            "third singular": "отдыхает",
            "first plural": "отдыхаем",
            "second plural": "отдыхаете",
            "third plural": "отдыхают"
        }
    },
    {
        "infinitive": "помочь",
        "present":
        {
            "first singular": "помогу",
            "second singular": "поможешь",
            "third singular": "поможет",
            "first plural": "поможем",
            "second plural": "поможете",
            "third plural": "помогут"
        }
    },
    {
        "infinitive": "предлагать",
        "present":
        {
            "first singular": "предлагаю",
            "second singular": "предлагаешь",
            "third singular": "предлагает",
            "first plural": "предлагаем",
            "second plural": "предлагаете",
            "third plural": "предлагают"
        }
    },
    {
        "infinitive": "принимать",
        "present":
        {
            "first singular": "принимаю",
            "second singular": "принимаешь",
            "third singular": "принимает",
            "first plural": "принимаем",
            "second plural": "принимаете",
            "third plural": "принимают"
        }
    },
    {
        "infinitive": "путешествовать",
        "present":
        {
            "first singular": "путешествую",
            "second singular": "путешествуешь",
            "third singular": "путешествует",
            "first plural": "путешествуем",
            "second plural": "путешествуете",
            "third plural": "путешествуют"
        }
    },
    {
        "infinitive": "рисовать",
        "present":
        {
            "first singular": "рисую",
            "second singular": "рисуешь",
            "third singular": "рисует",
            "first plural": "рисуем",
            "second plural": "рисуете",
            "third plural": "рисуют"
        }
    },
    {
        "infinitive": "сказать",
        "present":
        {
            "first singular": "скажу",
            "second singular": "скажешь",
            "third singular": "скажет",
            "first plural": "скажем",
            "second plural": "скажете",
            "third plural": "скажут"
        }
    },
    {
        "infinitive": "ужинать",
        "present":
        {
            "first singular": "ужинаю",
            "second singular": "ужинаешь",
            "third singular": "ужинает",
            "first plural": "ужинаем",
            "second plural": "ужинаете",
            "third plural": "ужинают"
        }
    },
    {
        "infinitive": "фотографировать",
        "present":
        {
            "first singular": "фотографирую",
            "second singular": "фотографируешь",
            "third singular": "фотографирует",
            "first plural": "фотографируем",
            "second plural": "фотографируете",
            "third plural": "фотографируют"
        }
    },
    {
        "infinitive": "загорать",
        "present":
        {
            "first singular": "загораю",
            "second singular": "загораешь",
            "third singular": "загорает",
            "first plural": "загораем",
            "second plural": "загораете",
            "third plural": "загорают"
        }
    },
]

class Verb {
    constructor(json) {
        this._json = json;
    }

    getInfinitive() { return this._json.infinitive; }
    getConjugation(perspective) { return this._json.present[perspective]; }

    getRandomConjugations(numConjugations, excludeConjugation) {
        // Pick two conjugations at random, exclude the correct conjugation
        let availableConjugations =
            Object.keys(this._json.present).filter(word => word !== excludeConjugation);

        let incorrectChoices = [];
        for (let idx = 0; idx < numConjugations; idx++) {
            // Choose a conjugation at random
            const conjugationIdx = Math.floor(Math.random() * availableConjugations.length);
            incorrectChoices.push(this._json.present[availableConjugations[conjugationIdx]]);

            // Remove the chosen conjugation from the options
            availableConjugations = availableConjugations.slice(conjugationIdx);
        }

        return incorrectChoices;
    }
}

/**
 * Provides the interface to the dictionary data structure. Nothing should access the JSON data
 * directly.
 */
class Verbs {
    /**
     * Returns a randomly chosen verb from the dictionary.
     */
    static getRandomVerb() {
        return new Verb(VERBS[Math.floor(Math.random() * VERBS.length)]);
    }

    static getRandomPronoun() {
        const availablePronouns = Object.keys(PRONOUNS);
        const chosenPronoun = availablePronouns[Math.floor(Math.random() * availablePronouns.length)];

        return [chosenPronoun, PRONOUNS[chosenPronoun]];
    }
}